<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Realtor Profile</title>
  <link rel="stylesheet" href="vistastyles.css">

  <style>
    /* Top-screen sliding notification */
    .notification {
      position: fixed;
      top: -100px; /* start above the viewport */
      left: 50%;
      transform: translateX(-50%);
      background: #4caf50;
      color: white;
      padding: 20px 35px;
      border-radius: 0 0 12px 12px;
      font-size: 1.2rem;
      font-weight: bold;
      box-shadow: 0 6px 16px rgba(0,0,0,0.25);
      opacity: 0;
      transition: top 0.5s ease, opacity 0.5s ease;
      z-index: 9999;
    }

    .notification.show {
      top: 0; /* slide into view */
      opacity: 1;
    }
  </style>

  <script>
    function showSection(sectionId) {
      document.querySelectorAll('.tab-section').forEach(sec => sec.style.display = 'none');
      document.getElementById(sectionId).style.display = 'block';
    }
    window.onload = () => showSection('personal-info');
  </script>
</head>

<body class="vv-realtor">

  <!-- TOP SCREEN NOTIFICATION -->
  <div id="gift-notification" class="notification">Gift request submitted! üéÅ</div>

  <main class="profile-container">
    <!-- SIDEBAR -->
    <aside class="profile-menu">
      <div class="top-section">
        <div class="avatar">üè°</div>

        <!-- UPDATED WELCOME MESSAGE WITH DYNAMIC NAME -->
        <p>Welcome back, <span id="realtor-name-display">Realtor</span>!</p>

        <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        <div class="role">VillaVista Licensed Realtor</div>

        <ul>
          <li><a href="#" class="active" onclick="showSection('personal-info')">Personal Information</a></li>
          <li><a href="#" onclick="showSection('work-preferences')">Work Preferences</a></li>
          <li><a href="#" onclick="showSection('client-appreciation')">Client Appreciation</a></li>
        </ul>
      </div>

      <div class="bottom-links">
        <a href="realtorportal.html">Home</a>
        <a href="index.html">Log Out</a>
      </div>
    </aside>

    <!-- MAIN CONTENT -->
    <section class="profile-form">

      <!-- PERSONAL INFORMATION -->
      <div id="personal-info" class="tab-section">
        <h2>Personal Information</h2>
        <form>
          <div class="form-grid">
            <div class="form-field">
              <label for="name">Full Name</label>
              <input id="name" type="text">
            </div>

            <div class="form-field">
              <label for="email">Email</label>
              <input id="email" type="email">
            </div>

            <div class="form-field">
              <label for="phone">Phone</label>
              <input id="phone" type="tel">
            </div>

            <div class="form-field">
              <label for="license">License Number</label>
              <input id="license" type="text">
            </div>

            <div class="form-field">
              <label for="office">Office Location</label>
              <input id="office" type="text">
            </div>
          </div>
          <div class="form-actions">
            <button type="submit">Save Changes</button>
          </div>
        </form>
      </div>

      <!-- WORK PREFERENCES -->
      <div id="work-preferences" class="tab-section" style="display:none;">
        <h2>Work Preferences</h2>
        <form>
          <div class="form-grid two">
            <div class="form-field">
              <label for="preferred-service-area">Preferred Service Area</label>
              <select id="preferred-service-area">
                <option selected disabled>Select an area</option>
                <option>Kent</option>
                <option>Stow</option>
                <option>Hudson</option>
                <option>Akron</option>
                <option>Cuyahoga Falls</option>
                <option>Twinsburg</option>
                <option>Ravenna</option>
                <option>Streetsboro</option>
              </select>
            </div>

            <div class="form-field">
              <label for="property-type-focus">Property Type Focus</label>
              <select id="property-type-focus">
                <option selected disabled>Select property type</option>
                <option>Apartment</option>
                <option>Townhouse</option>
                <option>Multi-Family</option>
                <option>House</option>
                <option>Condo</option>
                <option>Lots & Land</option>
              </select>
            </div>
          </div>

          <div class="form-grid">
            <div class="form-field">
              <label for="availability">Availability</label>
              <select id="availability">
                <option>Monday‚ÄìFriday</option>
                <option>Weekends Only</option>
                <option>Flexible Schedule</option>
              </select>
            </div>

            <div class="form-field">
              <label for="max-clients">Max Client Load</label>
              <input id="max-clients" type="number" min="1" max="50">
            </div>
          </div>

          <div class="form-actions">
            <button type="submit">Save Preferences</button>
          </div>
        </form>
      </div>

      <!-- CLIENT APPRECIATION -->
      <div id="client-appreciation" class="tab-section" style="display:none;">
        <h2>Client Appreciation</h2>
        <form id="gift-form">
          <div class="form-grid">
            <div class="form-field">
              <label for="gift-type">Gift Type</label>
              <input id="gift-type" type="text" placeholder="e.g., Flowers, Gift Card">
            </div>

            <div class="form-field">
              <label for="gift-cost">Estimated Cost ($)</label>
              <input id="gift-cost" type="number" min="0">
            </div>

            <div class="form-field">
              <label for="gift-notes">Notes</label>
              <input id="gift-notes" type="text" placeholder="Add details for this request">
            </div>
          </div>
          <div class="form-actions">
            <button type="submit">Submit Gift Request</button>
          </div>
        </form>
      </div>

    </section>
  </main>

  <script>
    // Sidebar tab highlight
    document.querySelectorAll('.profile-menu a').forEach(link => {
      link.addEventListener('click', () => {
        document.querySelectorAll('.profile-menu a').forEach(a => a.classList.remove('active'));
        link.classList.add('active');
      });
    });

    // Gift notification logic
    const giftForm = document.getElementById('gift-form');
    const notification = document.getElementById('gift-notification');

    giftForm.addEventListener('submit', (e) => {
      e.preventDefault(); // remove if submitting normally

      notification.classList.add('show');

      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    });

    // UPDATE SIDEBAR NAME WHEN PERSONAL INFO IS SAVED
    const personalInfoForm = document.querySelector('#personal-info form');
    const nameInput = document.getElementById('name');
    const realtorNameDisplay = document.getElementById('realtor-name-display');

    personalInfoForm.addEventListener('submit', (e) => {
      e.preventDefault(); // remove if posting to backend

      const newName = nameInput.value.trim();

      if (newName !== "") {
        realtorNameDisplay.textContent = newName;
      }
    });
  </script>

</body>
</html>
